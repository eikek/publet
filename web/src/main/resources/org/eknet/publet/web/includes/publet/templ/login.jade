- val actionUrl = PubletWebContext.urlOf("/publet/scripts/login.json")
.row
  .span4.offset4
    #response
    form(method="post" class="well" action={actionUrl} id="loginForm")
      label
        | Username
        input(name="username" id="username" type="text" size="20" required="required")
      label
        | Password
        input(name="password" id="password" type="password" required="required")
      label.checkbox
        input(type="checkbox" name="rememberMe")/
        | Remember me
      button(type="submit" class="btn btn-primary")
        i.icon-ok.icon-white
        | Login
:javascript
  $(document).ready(function() {
    $('#username').focus();
    var options = {
      success: function(data) {
        var closeIcon = '<a class="close" data-dismiss="alert" href="#">Ã—</a>';
        if (data.success) {
          var redirect = getURLParameter("redirect")
          if (redirect) {
            window.location=redirect;
          } else {
            $('#response').html('<div class="alert alert-success">'+data.message + closeIcon + '</div>');
          }
        } else {
          $('#response').html('<div class="alert alert-error">' +data.message + closeIcon + '</div>');
        }
      },
      dataType: 'json'
    };
    $('#loginForm').ajaxForm(options);
  });
