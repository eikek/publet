---
title: Gitr Web
highlightTheme: magula

--- name:head pipeline:jade
link(rel="stylesheet" href="gitr.css")
:css
  .commitInfo {
    background-color: inherit;
  }
  /* copy from bootstrap.css alert-info style */
  div.commitInfo {
    padding: 8px 35px 8px 14px;
    margin-bottom: 18px;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
    border: 1px solid #bce8f1;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    background-color: #d9edf7;
    color: #3a87ad;
  }
:javascript
  $(function() {
    $('#revnames').typeahead();
    $('#searchRev').on('click', function(e) {
      var rev = $('#revnames').val();
      if (rev) {
        var repo = getURLParameter("r");
        window.location=window.location.origin+ window.location.pathname+"?r="+repo+"&h="+rev+"&do=log";
      }
    });
  });

--- name:content pipeline:jade
- import org.eknet.publet.gitr.web.scripts.CommitInfo
-@ val commits: List[CommitInfo] = List()
=include("_gitrpagehead.jade")

.row
  .span12
    - for (c <- commits) {
      .commitInfo
        h4.alert-heading
          img(src={c.gravatarUrl + "?d=mm&s=50"})
          =c.author.getName + ", " + c.getAge
          small
            | --
            =c.getCommitDateAsString
            | --
          span.pull-right
            a(href="#")
              | [
              =c.shortId
              | ]
        pre.commitInfo<>
          !~~c.fullMessage
      - }
