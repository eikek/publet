---
title: Gitr Admin

--- name:head pipeline:jade
script(src="gitr-listing.js" type="text/javascript")
:javascript
  $(function() {
    $('.nav-tabs').button();
    $('.hover').popover();

    var options = {
      success: function(data) {
        var closeIcon = '<a class="close" data-dismiss="alert" href="#">Ã—</a>';
        if (data.success) {
          $('#response').html('<div class="alert alert-success">'+data.message + closeIcon + '</div>');
          $('#createRepoForm').clearForm();
          $('#myModal').modal('hide');
        } else {
          $('#response').html('<div class="alert alert-error">' +data.message + closeIcon + '</div>');
        }
      },
      dataType: 'json'
    };
    $('#createRepoForm').ajaxForm(options);
  });

:css
  code.clone {
    color: #000;
  }

--- name:content pipeline:jade

h2 Repository View
.modal.fade#myModal
  .modal-header
    button.close(data-dismiss="modal") &times;
    h2 Create a new personal git repository.
  .modal-body
    #response
    form(action="gitrcreate.json" method="post" class="form-horizontal" id="createRepoForm")
      fieldset
        .control-group
          label.control-label Repository name
          .controls
            input.span4(type="text" name="repositoryName" required="required")
            p.help-block
              | The name should be short and must not contain any weird characters. Allowed are letters, digits and hyphens only.
        .control-group
          label.control-label
          .controls
            input(type="checkbox" name="closed")
            i.icon-lock
            | Closed Repository
        .control-group
          label.control-label Description (optional)
          .controls
            input.span4(type="text" name="description")
        .control-group
          button.btn.btn-primary(type="submit") Create repository
          button.btn(type="reset") Reset

.row
  .span3
    .btn-group.nav-tabs(data-toggle="buttons-radio")
      button.btn.active(id="mine") Mine
      button.btn(id="closed") Mine closed
      button.btn(id="all") All open
  .span5
    .input-append
      input(type="text" id="repoNameInput")
      button.btn.btn-primary(type="button" id="repoNameSearch") Search
  .span4
    ul.nav.nav-pills.pull-right
      li
        a(href="#myModal" data-toggle="modal") New repository

table.table.table-striped(id="repoListing")